import{a as M,r,j as e,X as g,k as u}from"./index-CJnD_gLK.js";import{P as A}from"./plus-BHj-BRdV.js";import{S as f}from"./save-D0EATYqx.js";import{S as T}from"./search-CgJIrsuZ.js";import{R as N}from"./refresh-cw-Co52wWG9.js";import{S as R}from"./square-pen-DwoAyZhr.js";import{T as I}from"./trash-2-BWDTMKj5.js";function O(){const i=M(a=>a.push),[y,c]=r.useState([]),[p,v]=r.useState(!0),[n,C]=r.useState(""),[E,d]=r.useState(!1),[s,l]=r.useState({nome_empresa:"",cnpj:"",email:"",telefone:"",celular:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:"",inscricao_estadual:"",inscricao_municipal:"",regime_tributario:"",cnae:"",banco:"",agencia:"",conta_corrente:"",descricao:""}),[w,x]=r.useState(!1),[m,h]=r.useState(null);async function o(){v(!0);try{const{data:a}=await u("webhook/list-company");if(console.log("Resposta do webhook/list-company:",a),typeof a=="string"&&a.includes("<!DOCTYPE html>")){console.warn("Webhook retornou HTML 404, usando dados mock"),i({kind:"warning",message:"Webhook de empresas não encontrado. Usando dados de exemplo."}),c([{id:1,nome_empresa:"Empresa Teste 1",cnpj:"00.000.000/0001-00"},{id:2,nome_empresa:"Empresa Teste 2",cnpj:"11.111.111/0001-11"},{id:3,nome_empresa:"Empresa Teste 3",cnpj:"22.222.222/0001-22"}]);return}Array.isArray(a)?(console.log("Empresas carregadas:",a.length),c(a)):(console.warn("Formato de resposta inesperado:",a),c([]))}catch(a){console.error("Erro ao carregar empresas:",a),i({kind:"warning",message:"Erro ao carregar empresas. Usando dados de exemplo."}),c([{id:1,nome_empresa:"Empresa Teste 1",cnpj:"00.000.000/0001-00"},{id:2,nome_empresa:"Empresa Teste 2",cnpj:"11.111.111/0001-11"},{id:3,nome_empresa:"Empresa Teste 3",cnpj:"22.222.222/0001-22"}])}finally{v(!1)}}async function _(a){if(a.preventDefault(),!s.nome_empresa.trim()||!s.cnpj.trim()){i({kind:"error",message:"Preencha todos os campos obrigatórios."});return}try{const t={nome:s.nome_empresa.trim(),cnpj:s.cnpj.trim(),email:s.email.trim()||"",telefone:s.telefone.trim()||"",celular:s.celular.trim()||"",logradouro:s.logradouro.trim()||"",numero:s.numero.trim()||"",complemento:s.complemento.trim()||"",bairro:s.bairro.trim()||"",cidade:s.cidade.trim()||"",estado:s.estado.trim()||"",cep:s.cep.trim()||"",inscricao_estadual:s.inscricao_estadual.trim()||"",inscricao_municipal:s.inscricao_municipal.trim()||"",regime_tributario:s.regime_tributario.trim()||"",cnae:s.cnae.trim()||"",banco:s.banco.trim()||"",agencia:s.agencia.trim()||"",conta_corrente:s.conta_corrente.trim()||"",descricao:s.descricao.trim()||"",action:"create_company"};await u("webhook-criar-empresa",{method:"POST",data:t}),i({kind:"success",message:"Empresa criada com sucesso!"}),l({nome_empresa:"",cnpj:"",email:"",telefone:"",celular:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:"",inscricao_estadual:"",inscricao_municipal:"",regime_tributario:"",cnae:"",banco:"",agencia:"",conta_corrente:"",descricao:""}),d(!1),await o()}catch(t){console.error("Erro ao criar empresa:",t),i({kind:"error",message:"Erro ao criar empresa. Tente novamente."})}}function k(a){h(a),l({nome_empresa:a.nome_empresa,cnpj:a.cnpj,email:a.email||"",telefone:a.telefone||"",celular:a.celular||"",logradouro:a.logradouro||"",numero:a.numero||"",complemento:a.complemento||"",bairro:a.bairro||"",cidade:a.cidade||"",estado:a.estado||"",cep:a.cep||"",inscricao_estadual:a.inscricao_estadual||"",inscricao_municipal:a.inscricao_municipal||"",regime_tributario:a.regime_tributario||"",cnae:a.cnae||"",banco:a.banco||"",agencia:a.agencia||"",conta_corrente:a.conta_corrente||"",descricao:a.descricao||""}),x(!0)}async function S(a){if(a.preventDefault(),!!m){if(!s.nome_empresa.trim()||!s.cnpj.trim()){i({kind:"error",message:"Preencha todos os campos obrigatórios."});return}try{const t={id:m.id,nome_empresa:s.nome_empresa.trim(),cnpj:s.cnpj.trim(),email:s.email.trim()||void 0,telefone:s.telefone.trim()||void 0,celular:s.celular.trim()||void 0,logradouro:s.logradouro.trim()||void 0,numero:s.numero.trim()||void 0,complemento:s.complemento.trim()||void 0,bairro:s.bairro.trim()||void 0,cidade:s.cidade.trim()||void 0,estado:s.estado.trim()||void 0,cep:s.cep.trim()||void 0,inscricao_estadual:s.inscricao_estadual.trim()||void 0,inscricao_municipal:s.inscricao_municipal.trim()||void 0,regime_tributario:s.regime_tributario.trim()||void 0,cnae:s.cnae.trim()||void 0,banco:s.banco.trim()||void 0,agencia:s.agencia.trim()||void 0,conta_corrente:s.conta_corrente.trim()||void 0,descricao:s.descricao.trim()||void 0};await u("webhook/edit-company",{method:"POST",data:t}),i({kind:"success",message:"Empresa atualizada com sucesso!"}),h(null),l({nome_empresa:"",cnpj:"",email:"",telefone:"",celular:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:"",inscricao_estadual:"",inscricao_municipal:"",regime_tributario:"",cnae:"",banco:"",agencia:"",conta_corrente:"",descricao:""}),x(!1),await o()}catch(t){console.error("Erro ao atualizar empresa:",t),i({kind:"error",message:"Erro ao atualizar empresa. Tente novamente."})}}}function b(){h(null),l({nome_empresa:"",cnpj:"",email:"",telefone:"",celular:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:"",inscricao_estadual:"",inscricao_municipal:"",regime_tributario:"",cnae:"",banco:"",agencia:"",conta_corrente:"",descricao:""}),x(!1)}async function P(a){if(confirm("Tem certeza que deseja excluir esta empresa?"))try{await u("webhook/delete-company",{method:"POST",data:{companyId:a}}),i({kind:"success",message:"Empresa excluída com sucesso!"}),await o()}catch(t){console.error("Erro ao excluir empresa:",t),i({kind:"error",message:"Erro ao excluir empresa. Tente novamente."})}}const j=y.filter(a=>a.nome_empresa.toLowerCase().includes(n.toLowerCase())||a.cnpj.includes(n));return r.useEffect(()=>{o()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Empresas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie empresas cadastradas no sistema"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"btn btn-primary flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Nova Empresa"]})]}),E&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Criar Nova Empresa"}),e.jsx("button",{onClick:()=>d(!1),className:"text-muted-foreground hover:text-foreground",children:e.jsx(g,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"card-content",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Dados Básicos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Razão Social *"}),e.jsx("input",{type:"text",value:s.nome_empresa,onChange:a=>l({...s,nome_empresa:a.target.value}),className:"input w-full",placeholder:"Digite a razão social da empresa",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CNPJ *"}),e.jsx("input",{type:"text",value:s.cnpj,onChange:a=>l({...s,cnpj:a.target.value}),className:"input w-full",placeholder:"00.000.000/0001-00",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:s.email,onChange:a=>l({...s,email:a.target.value}),className:"input w-full",placeholder:"empresa@exemplo.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",value:s.telefone,onChange:a=>l({...s,telefone:a.target.value}),className:"input w-full",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Celular"}),e.jsx("input",{type:"tel",value:s.celular,onChange:a=>l({...s,celular:a.target.value}),className:"input w-full",placeholder:"(11) 99999-9999"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Endereço Completo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logradouro *"}),e.jsx("input",{type:"text",value:s.logradouro,onChange:a=>l({...s,logradouro:a.target.value}),className:"input w-full",placeholder:"Rua, Avenida, Alameda, etc.",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Número *"}),e.jsx("input",{type:"text",value:s.numero,onChange:a=>l({...s,numero:a.target.value}),className:"input w-full",placeholder:"123",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Complemento"}),e.jsx("input",{type:"text",value:s.complemento,onChange:a=>l({...s,complemento:a.target.value}),className:"input w-full",placeholder:"Sala, Andar, Bloco"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bairro *"}),e.jsx("input",{type:"text",value:s.bairro,onChange:a=>l({...s,bairro:a.target.value}),className:"input w-full",placeholder:"Centro, Vila Nova, etc.",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cidade *"}),e.jsx("input",{type:"text",value:s.cidade,onChange:a=>l({...s,cidade:a.target.value}),className:"input w-full",placeholder:"São Paulo",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Estado (UF) *"}),e.jsxs("select",{value:s.estado,onChange:a=>l({...s,estado:a.target.value}),className:"input w-full",required:!0,children:[e.jsx("option",{value:"",children:"Selecione o estado"}),e.jsx("option",{value:"AC",children:"Acre"}),e.jsx("option",{value:"AL",children:"Alagoas"}),e.jsx("option",{value:"AP",children:"Amapá"}),e.jsx("option",{value:"AM",children:"Amazonas"}),e.jsx("option",{value:"BA",children:"Bahia"}),e.jsx("option",{value:"CE",children:"Ceará"}),e.jsx("option",{value:"DF",children:"Distrito Federal"}),e.jsx("option",{value:"ES",children:"Espírito Santo"}),e.jsx("option",{value:"GO",children:"Goiás"}),e.jsx("option",{value:"MA",children:"Maranhão"}),e.jsx("option",{value:"MT",children:"Mato Grosso"}),e.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),e.jsx("option",{value:"MG",children:"Minas Gerais"}),e.jsx("option",{value:"PA",children:"Pará"}),e.jsx("option",{value:"PB",children:"Paraíba"}),e.jsx("option",{value:"PR",children:"Paraná"}),e.jsx("option",{value:"PE",children:"Pernambuco"}),e.jsx("option",{value:"PI",children:"Piauí"}),e.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),e.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),e.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),e.jsx("option",{value:"RO",children:"Rondônia"}),e.jsx("option",{value:"RR",children:"Roraima"}),e.jsx("option",{value:"SC",children:"Santa Catarina"}),e.jsx("option",{value:"SP",children:"São Paulo"}),e.jsx("option",{value:"SE",children:"Sergipe"}),e.jsx("option",{value:"TO",children:"Tocantins"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CEP *"}),e.jsx("input",{type:"text",value:s.cep,onChange:a=>l({...s,cep:a.target.value}),className:"input w-full",placeholder:"00000-000",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Dados Fiscais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inscrição Estadual (IE)"}),e.jsx("input",{type:"text",value:s.inscricao_estadual,onChange:a=>l({...s,inscricao_estadual:a.target.value}),className:"input w-full",placeholder:"123.456.789.012"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inscrição Municipal (IM)"}),e.jsx("input",{type:"text",value:s.inscricao_municipal,onChange:a=>l({...s,inscricao_municipal:a.target.value}),className:"input w-full",placeholder:"123456"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Regime Tributário *"}),e.jsxs("select",{value:s.regime_tributario,onChange:a=>l({...s,regime_tributario:a.target.value}),className:"input w-full",required:!0,children:[e.jsx("option",{value:"",children:"Selecione o regime"}),e.jsx("option",{value:"1",children:"Microempresa Nacional"}),e.jsx("option",{value:"2",children:"Estimativa"}),e.jsx("option",{value:"3",children:"Sociedade de Profissionais"}),e.jsx("option",{value:"4",children:"Cooperativa"}),e.jsx("option",{value:"5",children:"Microempresário Individual (MEI)"}),e.jsx("option",{value:"6",children:"Microempresa e Pequena Empresa (ME/EPP)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CNAE *"}),e.jsx("input",{type:"text",value:s.cnae,onChange:a=>l({...s,cnae:a.target.value}),className:"input w-full",placeholder:"62.01-5-00",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Dados Bancários"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Banco"}),e.jsx("input",{type:"text",value:s.banco,onChange:a=>l({...s,banco:a.target.value}),className:"input w-full",placeholder:"Banco do Brasil, Itaú, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Agência"}),e.jsx("input",{type:"text",value:s.agencia,onChange:a=>l({...s,agencia:a.target.value}),className:"input w-full",placeholder:"1234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Conta Corrente"}),e.jsx("input",{type:"text",value:s.conta_corrente,onChange:a=>l({...s,conta_corrente:a.target.value}),className:"input w-full",placeholder:"12345-6"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Informações Adicionais"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrição da Empresa"}),e.jsx("textarea",{value:s.descricao,onChange:a=>l({...s,descricao:a.target.value}),className:"input w-full min-h-[100px] resize-none",placeholder:"Descrição da empresa, atividades principais, histórico, etc."})]})]}),e.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Criar Empresa"]}),e.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn btn-secondary",children:"Cancelar"})]})]})})]}),w&&m&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["Editar Empresa: ",m.nome_empresa]}),e.jsx("button",{onClick:b,className:"text-muted-foreground hover:text-foreground",children:e.jsx(g,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"card-content",children:e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Informações Básicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nome da Empresa *"}),e.jsx("input",{type:"text",value:s.nome_empresa,onChange:a=>l({...s,nome_empresa:a.target.value}),className:"input w-full",placeholder:"Digite o nome da empresa",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CNPJ *"}),e.jsx("input",{type:"text",value:s.cnpj,onChange:a=>l({...s,cnpj:a.target.value}),className:"input w-full",placeholder:"00.000.000/0001-00",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",value:s.email,onChange:a=>l({...s,email:a.target.value}),className:"input w-full",placeholder:"empresa@exemplo.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefone"}),e.jsx("input",{type:"tel",value:s.telefone,onChange:a=>l({...s,telefone:a.target.value}),className:"input w-full",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Celular"}),e.jsx("input",{type:"tel",value:s.celular,onChange:a=>l({...s,celular:a.target.value}),className:"input w-full",placeholder:"(11) 99999-9999"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Endereço"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logradouro"}),e.jsx("input",{type:"text",value:s.logradouro,onChange:a=>l({...s,logradouro:a.target.value}),className:"input w-full",placeholder:"Rua, Avenida, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Número"}),e.jsx("input",{type:"text",value:s.numero,onChange:a=>l({...s,numero:a.target.value}),className:"input w-full",placeholder:"123"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Complemento"}),e.jsx("input",{type:"text",value:s.complemento,onChange:a=>l({...s,complemento:a.target.value}),className:"input w-full",placeholder:"Sala, Andar, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bairro"}),e.jsx("input",{type:"text",value:s.bairro,onChange:a=>l({...s,bairro:a.target.value}),className:"input w-full",placeholder:"Centro, Vila, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cidade"}),e.jsx("input",{type:"text",value:s.cidade,onChange:a=>l({...s,cidade:a.target.value}),className:"input w-full",placeholder:"São Paulo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Estado"}),e.jsx("input",{type:"text",value:s.estado,onChange:a=>l({...s,estado:a.target.value}),className:"input w-full",placeholder:"SP",maxLength:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CEP"}),e.jsx("input",{type:"text",value:s.cep,onChange:a=>l({...s,cep:a.target.value}),className:"input w-full",placeholder:"00000-000"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Dados Fiscais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inscrição Estadual"}),e.jsx("input",{type:"text",value:s.inscricao_estadual,onChange:a=>l({...s,inscricao_estadual:a.target.value}),className:"input w-full",placeholder:"123.456.789.012"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inscrição Municipal"}),e.jsx("input",{type:"text",value:s.inscricao_municipal,onChange:a=>l({...s,inscricao_municipal:a.target.value}),className:"input w-full",placeholder:"987654321"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Regime Tributário"}),e.jsxs("select",{value:s.regime_tributario,onChange:a=>l({...s,regime_tributario:a.target.value}),className:"input w-full",children:[e.jsx("option",{value:"",children:"Selecione o regime"}),e.jsx("option",{value:"Simples Nacional",children:"Simples Nacional"}),e.jsx("option",{value:"Lucro Real",children:"Lucro Real"}),e.jsx("option",{value:"Lucro Presumido",children:"Lucro Presumido"}),e.jsx("option",{value:"Microempresa Nacional",children:"Microempresa Nacional"}),e.jsx("option",{value:"Estimativa",children:"Estimativa"}),e.jsx("option",{value:"Sociedade de Profissionais",children:"Sociedade de Profissionais"}),e.jsx("option",{value:"Cooperativa",children:"Cooperativa"}),e.jsx("option",{value:"Microempresário Individual (MEI)",children:"Microempresário Individual (MEI)"}),e.jsx("option",{value:"Microempresa e Pequena Empresa (ME/EPP)",children:"Microempresa e Pequena Empresa (ME/EPP)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CNAE"}),e.jsx("input",{type:"text",value:s.cnae,onChange:a=>l({...s,cnae:a.target.value}),className:"input w-full",placeholder:"62.01-5-00"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Dados Bancários"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Banco"}),e.jsx("input",{type:"text",value:s.banco,onChange:a=>l({...s,banco:a.target.value}),className:"input w-full",placeholder:"Banco do Brasil, Itaú, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Agência"}),e.jsx("input",{type:"text",value:s.agencia,onChange:a=>l({...s,agencia:a.target.value}),className:"input w-full",placeholder:"1234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Conta Corrente"}),e.jsx("input",{type:"text",value:s.conta_corrente,onChange:a=>l({...s,conta_corrente:a.target.value}),className:"input w-full",placeholder:"12345-6"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-md font-semibold text-primary",children:"Informações Adicionais"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrição da Empresa"}),e.jsx("textarea",{value:s.descricao,onChange:a=>l({...s,descricao:a.target.value}),className:"input w-full min-h-[100px] resize-none",placeholder:"Descrição da empresa, atividades principais, histórico, etc."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Atualizar Empresa"]}),e.jsx("button",{type:"button",onClick:b,className:"btn btn-secondary",children:"Cancelar"})]})]})})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(T,{className:"w-5 h-5 text-muted-foreground absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",value:n,onChange:a=>C(a.target.value),className:"input pl-10 w-full",placeholder:"Buscar empresas por nome ou CNPJ..."})]}),e.jsxs("button",{onClick:o,className:"btn btn-secondary flex items-center gap-2",disabled:p,children:[e.jsx(N,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Atualizar"]})]})})}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Empresas"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[j.length," empresa(s) encontrada(s)"]})]})}),e.jsx("div",{className:"card-content",children:p?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(N,{className:"w-6 h-6 animate-spin text-primary"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:"Carregando empresas..."})]}):j.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:n?"Nenhuma empresa encontrada para a busca.":"Nenhuma empresa cadastrada."})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-left text-muted-foreground border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4",children:"Nome"}),e.jsx("th",{className:"py-3 px-4",children:"CNPJ"}),e.jsx("th",{className:"py-3 px-4",children:"Email"}),e.jsx("th",{className:"py-3 px-4 text-right",children:"Ações"})]})}),e.jsx("tbody",{children:j.map(a=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium",children:a.nome_empresa}),a.descricao&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1 truncate max-w-xs",children:a.descricao})]}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:a.cnpj}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:a.email||"-"}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:()=>k(a),className:"btn btn-secondary flex items-center gap-1 text-xs",children:[e.jsx(R,{className:"w-3 h-3"}),"Editar"]}),e.jsxs("button",{onClick:()=>P(a.id),className:"btn btn-outline flex items-center gap-1 text-xs",children:[e.jsx(I,{className:"w-3 h-3"}),"Excluir"]})]})})]},a.id))})]})})})]})]})}export{O as default};
